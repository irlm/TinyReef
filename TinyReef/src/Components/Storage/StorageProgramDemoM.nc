/*									
 *
 * Copyright (c) 2009-2010 The Regents of the Federal University of Pernambuco.  
 * All rights reserved.
 *
 *
 */

#include <Timer.h>

/**
 * StorageProgramDemoM
 *
 * @author Igor L Marques
 * @data Mar 08, 2010.
 * 
 */ 
module StorageProgramDemoM
{
    provides
    {
    	interface TinyReefStorage;
    }
	
}

implementation
{
	void loadProgram(tinyReefContext_t *context)
	{
		/*/
		uint8_t program[] = {	0x3c, 0x1c, 0x0, 0x42, 
								0x27, 0xbd, 0xff, 0xe0, 
								0x27, 0x9c, 0x81, 0xb0, 
								0xaf, 0xbf, 0x0, 0x1c, 
								0xaf, 0xb0, 0x0, 0x18, 
								0xaf, 0xbc, 0x0, 0x10, 
								0x8f, 0x90, 0x80, 0x34, 
								0x8f, 0x99, 0x80, 0x30, 
								0x3c, 0x5, 0x0, 0x40, 
								0x2, 0x0, 0x30, 0x21, 
								0x24, 0xa5, 0x1, 0x74, 
								0x24, 0x4, 0x0, 0xfa, 
								0x3, 0x20, 0xf8, 0x9, 
								0x0, 0x0, 0x0, 0x0, 
								0x8f, 0xbc, 0x0, 0x10, 
								0x3c, 0x5, 0x0, 0x40, 
								0x8f, 0x99, 0x80, 0x30, 
								0x2, 0x0, 0x30, 0x21, 
								0x24, 0xa5, 0x1, 0x5c, 
								0x24, 0x4, 0x0, 0xf4, 
								0x3, 0x20, 0xf8, 0x9, 
								0x0, 0x0, 0x0, 0x0, 
								0x8f, 0xbc, 0x0, 0x10, 
								0x3c, 0x5, 0x0, 0x40, 
								0x8f, 0x99, 0x80, 0x30, 
								0x2, 0x0, 0x30, 0x21, 
								0x24, 0xa5, 0x1, 0x44, 
								0x24, 0x4, 0x0, 0xe8, 
								0x3, 0x20, 0xf8, 0x9, 
								0x0, 0x0, 0x0, 0x0, 
								0x8f, 0xbc, 0x0, 0x10, 
								0x8f, 0xbf, 0x0, 0x1c, 
								0x8f, 0x99, 0x80, 0x34, 
								0x8f, 0xb0, 0x0, 0x18, 
								0x27, 0xbd, 0x0, 0x20, 
								0x3, 0x20, 0x0, 0x8, 
								0x0, 0x0, 0x0, 0x0, 
								0x3c, 0x1c, 0x0, 0x42, 
								0x27, 0x9c, 0x81, 0xb0, 
								0x8f, 0x99, 0x80, 0x2c, 
								0x24, 0x4, 0x0, 0x4, 
								0x3, 0x20, 0x0, 0x8, 
								0x0, 0x0, 0x0, 0x0, 
								0x3c, 0x1c, 0x0, 0x42, 
								0x27, 0x9c, 0x81, 0xb0, 
								0x8f, 0x99, 0x80, 0x2c, 
								0x24, 0x4, 0x0, 0x2, 
								0x3, 0x20, 0x0, 0x8, 
								0x0, 0x0, 0x0, 0x0, 
								0x3c, 0x1c, 0x0, 0x42, 
								0x27, 0x9c, 0x81, 0xb0, 
								0x8f, 0x99, 0x80, 0x2c, 
								0x24, 0x4, 0x0, 0x1, 
								0x3, 0x20, 0x0, 0x8, 
								0x0, 0x0, 0x0, 0x0, 
								0x0, 0x0, 0x0, 0x0, 
								0x24, 0x2, 0x0, 0xa, 
								0x0, 0x0, 0x0, 0xc, 
								0x3, 0xe0, 0x0, 0x8, 
								0x0, 0x0, 0x0, 0x0, 
								0x24, 0x2, 0x0, 0xf, 
								0x0, 0x0, 0x0, 0xc, 
								0x3, 0xe0, 0x0, 0x8, 
								0x0, 0x0, 0x0, 0x0, 
								0x24, 0x2, 0x0, 0x10, 
								0x0, 0x0, 0x0, 0xc, 
								0x3, 0xe0, 0x0, 0x8, 
								0x0, 0x0, 0x0, 0x0, 
								
								0x0, 0x0, 0x0, 0x0, 
								0x80, 0x0, 0x0, 0x0, 
								0x0, 0x0, 0x0, 0x0, 
								0x0, 0x0, 0x0, 0x0, 
								0x0, 0x0, 0x0, 0x0, 
								0x0, 0x0, 0x0, 0x0, 
								0x0, 0x0, 0x0, 0x0, 
								0x0, 0x40, 0x1, 0xb0, 
								0x0, 0x40, 0x1, 0xa0, 
								0x0, 0x40, 0x1, 0x90
							  	};			
		
		dbg("TinyReefC", "TinyReefStorage BLink\n");
		context->PC = context->Offset	= 176;
		//*/
		
		/*/
		uint8_t program[] = {	0x3c, 0x1c, 0x0, 0x42, 
0x27, 0xbd, 0xff, 0xe0, 
0x27, 0x9c, 0x82, 0xe0, 
0xaf, 0xbf, 0x0, 0x1c, 
0xaf, 0xb0, 0x0, 0x18, 
0xaf, 0xbc, 0x0, 0x10, 
0x8f, 0x90, 0x80, 0x44, 
0x8f, 0x99, 0x80, 0x2c, 
0x8f, 0x84, 0x80, 0x40, 
0x3c, 0x6, 0x0, 0x40, 
0x2, 0x0, 0x38, 0x21, 
0x24, 0xc6, 0x1, 0x28, 
0x24, 0x5, 0x0, 0x2, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x3c, 0x5, 0x0, 0x40, 
0x8f, 0x99, 0x80, 0x3c, 
0x2, 0x0, 0x30, 0x21, 
0x24, 0xa5, 0x2, 0x3c, 
0x24, 0x4, 0x0, 0xfa, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x8f, 0xbf, 0x0, 0x1c, 
0x8f, 0x99, 0x80, 0x44, 
0x8f, 0xb0, 0x0, 0x18, 
0x27, 0xbd, 0x0, 0x20, 
0x3, 0x20, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x3c, 0x1c, 0x0, 0x42, 
0x27, 0xbd, 0xff, 0xe0, 
0x27, 0x9c, 0x82, 0xe0, 
0xaf, 0xbf, 0x0, 0x1c, 
0xaf, 0xb0, 0x0, 0x18, 
0xaf, 0xbc, 0x0, 0x10, 
0x8f, 0x90, 0x80, 0x40, 
0x0, 0x0, 0x0, 0x0, 
0x96, 0x2, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x30, 0x42, 0x0, 0x1, 
0x10, 0x40, 0x0, 0x1d, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x24, 0x4, 0x0, 0x1, 
0x24, 0x5, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x96, 0x2, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x30, 0x42, 0x0, 0x2, 
0x10, 0x40, 0x0, 0x1d, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x24, 0x4, 0x0, 0x2, 
0x24, 0x5, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x96, 0x2, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x30, 0x42, 0x0, 0x4, 
0x14, 0x40, 0x0, 0x1d, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x8f, 0xbf, 0x0, 0x1c, 
0x8f, 0xb0, 0x0, 0x18, 
0x24, 0x4, 0x0, 0x4, 
0x0, 0x0, 0x28, 0x21, 
0x27, 0xbd, 0x0, 0x20, 
0x3, 0x20, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x24, 0x4, 0x0, 0x1, 
0x0, 0x0, 0x28, 0x21, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x96, 0x2, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x30, 0x42, 0x0, 0x2, 
0x14, 0x40, 0xff, 0xe5, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x24, 0x4, 0x0, 0x2, 
0x0, 0x0, 0x28, 0x21, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x96, 0x2, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x30, 0x42, 0x0, 0x4, 
0x10, 0x40, 0xff, 0xe5, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x8f, 0xbf, 0x0, 0x1c, 
0x8f, 0xb0, 0x0, 0x18, 
0x24, 0x4, 0x0, 0x4, 
0x24, 0x5, 0x0, 0x1, 
0x27, 0xbd, 0x0, 0x20, 
0x3, 0x20, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x3c, 0x1c, 0x0, 0x42, 
0x27, 0xbd, 0xff, 0xd8, 
0x27, 0x9c, 0x82, 0xe0, 
0xaf, 0xbf, 0x0, 0x24, 
0xaf, 0xbc, 0x0, 0x10, 
0x8f, 0x82, 0x80, 0x30, 
0x8f, 0x99, 0x80, 0x38, 
0x94, 0x43, 0x0, 0x0, 
0x27, 0xa6, 0x0, 0x18, 
0x24, 0x63, 0x0, 0x1, 
0x30, 0x63, 0xff, 0xff, 
0xa7, 0xa3, 0x0, 0x18, 
0x34, 0x4, 0xff, 0xff, 
0xa4, 0x43, 0x0, 0x0, 
0x24, 0x5, 0x0, 0x6, 
0x24, 0x7, 0x0, 0x2, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbf, 0x0, 0x24, 
0x8f, 0xbc, 0x0, 0x10, 
0x27, 0xbd, 0x0, 0x28, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xb, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xc, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xa, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0x11, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xf, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 

0x0, 0x0, 0x0, 0x0, 
0x80, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x40, 0x2, 0xa0, 
0x0, 0x41, 0x3, 0x2a, 
0x0, 0x40, 0x2, 0xd0, 
0x0, 0x40, 0x2, 0xb0, 
0x0, 0x40, 0x2, 0xe0, 
0x0, 0x41, 0x3, 0x28, 
0x0, 0x40, 0x2, 0xc0, 

0x0, 0x47, 0x43, 0x43
							};

		dbg("TinyReefC", "TinyReefStorage RadioCountToLeds\n");
		context->PC = context->Offset	= 176;
		//*/
		
		/*/
		uint8_t program[] = {	0x3c, 0x1c, 0x0, 0x42, 
0x27, 0xbd, 0xff, 0xe0, 
0x27, 0x9c, 0x83, 0x0, 
0xaf, 0xbf, 0x0, 0x1c, 
0xaf, 0xb0, 0x0, 0x18, 
0xaf, 0xbc, 0x0, 0x10, 
0x8f, 0x90, 0x80, 0x44, 
0x8f, 0x99, 0x80, 0x2c, 
0x8f, 0x84, 0x80, 0x40, 
0x3c, 0x6, 0x0, 0x40, 
0x2, 0x0, 0x38, 0x21, 
0x24, 0xc6, 0x1, 0x28, 
0x24, 0x5, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x3c, 0x5, 0x0, 0x40, 
0x8f, 0x99, 0x80, 0x3c, 
0x2, 0x0, 0x30, 0x21, 
0x24, 0xa5, 0x2, 0x3c, 
0x24, 0x4, 0x0, 0xfa, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x8f, 0xbf, 0x0, 0x1c, 
0x8f, 0x99, 0x80, 0x44, 
0x8f, 0xb0, 0x0, 0x18, 
0x27, 0xbd, 0x0, 0x20, 
0x3, 0x20, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x3c, 0x1c, 0x0, 0x42, 
0x27, 0xbd, 0xff, 0xe0, 
0x27, 0x9c, 0x83, 0x0, 
0xaf, 0xbf, 0x0, 0x1c, 
0xaf, 0xb0, 0x0, 0x18, 
0xaf, 0xbc, 0x0, 0x10, 
0x8f, 0x90, 0x80, 0x40, 
0x0, 0x0, 0x0, 0x0, 
0x92, 0x2, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x30, 0x42, 0x0, 0x1, 
0x10, 0x40, 0x0, 0x1d, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x24, 0x4, 0x0, 0x1, 
0x24, 0x5, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x92, 0x2, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x30, 0x42, 0x0, 0x2, 
0x10, 0x40, 0x0, 0x1d, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x24, 0x4, 0x0, 0x2, 
0x24, 0x5, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x92, 0x2, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x30, 0x42, 0x0, 0x4, 
0x14, 0x40, 0x0, 0x1d, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x8f, 0xbf, 0x0, 0x1c, 
0x8f, 0xb0, 0x0, 0x18, 
0x24, 0x4, 0x0, 0x4, 
0x0, 0x0, 0x28, 0x21, 
0x27, 0xbd, 0x0, 0x20, 
0x3, 0x20, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x24, 0x4, 0x0, 0x1, 
0x0, 0x0, 0x28, 0x21, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x92, 0x2, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x30, 0x42, 0x0, 0x2, 
0x14, 0x40, 0xff, 0xe5, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x24, 0x4, 0x0, 0x2, 
0x0, 0x0, 0x28, 0x21, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x92, 0x2, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x30, 0x42, 0x0, 0x4, 
0x10, 0x40, 0xff, 0xe5, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x34, 
0x8f, 0xbf, 0x0, 0x1c, 
0x8f, 0xb0, 0x0, 0x18, 
0x24, 0x4, 0x0, 0x4, 
0x24, 0x5, 0x0, 0x1, 
0x27, 0xbd, 0x0, 0x20, 
0x3, 0x20, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x3c, 0x1c, 0x0, 0x42, 
0x27, 0xbd, 0xff, 0xd8, 
0x27, 0x9c, 0x83, 0x0, 
0xaf, 0xbf, 0x0, 0x24, 
0xaf, 0xbc, 0x0, 0x10, 
0x8f, 0x99, 0x80, 0x30, 
0x27, 0xa5, 0x0, 0x18, 
0xa3, 0xa0, 0x0, 0x18, 
0x0, 0x0, 0x20, 0x21, 
0x24, 0x6, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x93, 0xa2, 0x0, 0x18, 
0x8f, 0x99, 0x80, 0x38, 
0xa3, 0xa2, 0x0, 0x1c, 
0x27, 0xa6, 0x0, 0x1c, 
0x34, 0x4, 0xff, 0xff, 
0x24, 0x5, 0x0, 0x6, 
0x24, 0x7, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbf, 0x0, 0x24, 
0x8f, 0xbc, 0x0, 0x10, 
0x27, 0xbd, 0x0, 0x28, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xb, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xc, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xa, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xd, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0x11, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xf, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 

0x0, 0x0, 0x0, 0x0, 
0x80, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x40, 0x2, 0xb0, 
0x0, 0x40, 0x2, 0xe0, 
0x0, 0x40, 0x2, 0xf0, 
0x0, 0x40, 0x2, 0xc0, 
0x0, 0x40, 0x3, 0x0, 
0x0, 0x41, 0x3, 0x48, 
0x0, 0x40, 0x2, 0xd0, 

0x0
							};

		dbg("TinyReefC", "TinyReefStorage RadioSenseToLeds\n");
		context->PC = context->Offset	= 176; 
		//*/
		
		
	uint8_t program[] = {	0x3c, 0x1c, 0x0, 0x42, 
0x27, 0xbd, 0xff, 0xe0, 
0x27, 0x9c, 0x82, 0x20, 
0xaf, 0xbf, 0x0, 0x1c, 
0xaf, 0xbc, 0x0, 0x10, 
0x8f, 0x99, 0x80, 0x38, 
0x8f, 0x86, 0x80, 0x3c, 
0x3c, 0x5, 0x0, 0x40, 
0x24, 0xa5, 0x0, 0xf8, 
0x24, 0x4, 0x11, 0x94, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x8f, 0xbf, 0x0, 0x1c, 
0x8f, 0x99, 0x80, 0x3c, 
0x27, 0xbd, 0x0, 0x20, 
0x3, 0x20, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x3c, 0x1c, 0x0, 0x42, 
0x27, 0xbd, 0xff, 0xc8, 
0x27, 0x9c, 0x82, 0x20, 
0xaf, 0xbf, 0x0, 0x34, 
0xaf, 0xb3, 0x0, 0x30, 
0xaf, 0xb2, 0x0, 0x2c, 
0xaf, 0xb1, 0x0, 0x28, 
0xaf, 0xb0, 0x0, 0x24, 
0xaf, 0xbc, 0x0, 0x10, 
0x8f, 0x99, 0x80, 0x30, 
0xa3, 0xa0, 0x0, 0x18, 
0x24, 0x4, 0x0, 0x1, 
0x0, 0x0, 0x28, 0x21, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x27, 0xb3, 0x0, 0x1c, 
0x0, 0x0, 0x80, 0x21, 
0x27, 0xb2, 0x0, 0x18, 
0x24, 0x11, 0x0, 0x64, 
0x8f, 0x99, 0x80, 0x2c, 
0x24, 0x4, 0x0, 0x7, 
0x2, 0x40, 0x28, 0x21, 
0x24, 0x6, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x93, 0xa2, 0x0, 0x18, 
0x8f, 0x99, 0x80, 0x34, 
0xa7, 0xa2, 0x0, 0x1c, 
0x34, 0x4, 0xff, 0xff, 
0x24, 0x5, 0x0, 0x6, 
0x2, 0x60, 0x30, 0x21, 
0x24, 0x7, 0x0, 0x2, 
0x26, 0x10, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbc, 0x0, 0x10, 
0x16, 0x11, 0xff, 0xed, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0x99, 0x80, 0x30, 
0x24, 0x4, 0x0, 0x1, 
0x24, 0x5, 0x0, 0x1, 
0x3, 0x20, 0xf8, 0x9, 
0x0, 0x0, 0x0, 0x0, 
0x8f, 0xbf, 0x0, 0x34, 
0x8f, 0xbc, 0x0, 0x10, 
0x8f, 0xb3, 0x0, 0x30, 
0x8f, 0xb2, 0x0, 0x2c, 
0x8f, 0xb1, 0x0, 0x28, 
0x8f, 0xb0, 0x0, 0x24, 
0x27, 0xbd, 0x0, 0x38, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xb, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xc, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xa, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xd, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0x11, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 
0x24, 0x2, 0x0, 0xf, 
0x0, 0x0, 0x0, 0xc, 
0x3, 0xe0, 0x0, 0x8, 
0x0, 0x0, 0x0, 0x0, 

0x0, 0x0, 0x0, 0x0, 
0x80, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x0, 0x0, 0x0, 
0x0, 0x40, 0x2, 0x0, 
0x0, 0x40, 0x2, 0x10, 
0x0, 0x40, 0x1, 0xe0, 
0x0, 0x40, 0x2, 0x20, 
0x0, 0x40, 0x1, 0xf0
};

		dbg("TinyReefC", "TinyReefStorage Tests\n");
		context->PC = context->Offset	= 176; 

		dbg("TinyReefC", "TinyReefStorage.loadProgram\n");
		
		memcpy(context->Memory, &program, sizeof(program));
	}	

  	command void TinyReefStorage.writeProgram(uint8_t version, uint8_t *memory, uint16_t length){
		// TODO Auto-generated method stub
	}

	command void TinyReefStorage.readProgram(tinyReefContext_t *context, uint8_t version)
	{
		dbg("TinyReefC", "TinyReefStorage.readProgram\n");
		loadProgram(context);			
	}
}
